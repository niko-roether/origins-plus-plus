{
  "type": "origins:active_self",
  "hidden": true,
  "key": "key.origins.primary_active",
  "cooldown": 100,
  "entity_action": {
    "type": "origins:all_of",
    "actions": [
      {
        "type": "origins:change_resource",
        "resource": "origins-plus-plus:dark-mage/resource",
        "change": -100
      },
      {
        "type": "origins:raycast",
        "distance": 32,
        "shape_type": "outline",
        "fluid_handling": "none",
        "command_at_hit": "function origins-plus-plus:dark-mage/explode",
        "command_along_ray_only_on_hit": true
      },
      {
        "type": "origins:execute_command",
        "command": "clear @s minecraft:gunpowder 1"
      }
    ]
  },
  "condition": {
    "type": "origins:all_of",
    "conditions": [
      {
        "type": "origins:sneaking"
      },
      {
        "type": "origins:equipped_item",
        "equipment_slot": "offhand",
        "item_condition": {
          "type": "origins:ingredient",
          "ingredient": {
            "id": "minecraft:gunpowder"
          }
        }
      }
    ]
  }
}